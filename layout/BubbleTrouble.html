<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bubble Trouble</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <link href = '../css/index.css' rel = 'stylesheet'>
    <style>
        .setDiv{
            float : left;
        }
        .image{
            height: 150px;
            width: 150px;
            margin-top: 500px;
        }
        .centered {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 140px;
        }
        h1{
            margin-left: 566px;
            color: white;
        }
    </style>
</head>

<body style = "background-image: url('../images/bubbles.png'); width: 100%;">
    <div class = "container" style = "margin-right: 80px;" id = "game">
        <h1 id = 'score'>Score : 0</h1>
        <h1 id = 'best'>Best : 0</h1>
        <div class = 'row'>
            <div class = 'col-md-2'>
                <div class = "setDiv"><marquee direction = "up" scrollamount="20"><img src = "../images/SingleBS.png" class = "image"></marquee></div>
            </div>
            <div class = 'col-md-1'>
                <div class = "setDiv"><marquee direction = "down" scrollamount="20"><img src = "../images/SingleBS.png" class = "image"></marquee></div>
            </div>
            <div class = 'col-md-6'>
                <div class = "container">
                    <img src = "../images/SingleBL.png" style = "margin-top: 70px; width: 630px;">
                </div>
                <div class = "centered" id = 'letter'></div>
            </div>
            <div class = 'col-md-2'>
                <div class = "setDiv"><marquee direction = "down" scrollamount="20"><img src = "../images/SingleBS.png" class = "image"></marquee></div>
            </div>
            <div class = 'col-md-1'>
                <div class = "setDiv"><marquee direction = "up" scrollamount="20"><img src = "../images/SingleBS.png" class = "image"></marquee></div>
            </div>
        </div>
    </div>

    <script>
        let ind = Math.floor(Math.random() * 26);
        let c = String.fromCharCode(65 + ind);
        let ele = document.getElementById('letter');
        let sc = document.getElementById('score');
        let be = document.getElementById('best');
        be.innerHTML = "Best : " + sessionStorage.getItem('best');
        ele.innerHTML = c;
        let score = 0;
        sessionStorage.setItem('best',Math.max(score,sessionStorage.getItem('best')));
        
        window.addEventListener('keydown', function(event){
                if(event.key.length == 1 && (event.key.toLowerCase() >= 'a' && event.key.toLowerCase() <= 'z')){
                    if(event.key.toLowerCase() == c.toLowerCase()){
                        ind = Math.floor(Math.random() * 26);
                        c = String.fromCharCode(65 + ind);
                        ele.innerHTML = c;
                        score++;
                        sessionStorage.setItem('best',Math.max(score,sessionStorage.getItem('best')));
                        sc.innerHTML = "Score : " + score;
                        be.innerHTML = "Best : " + sessionStorage.getItem('best');
                    }
                    else{
                        sessionStorage.setItem('score',score);
                        window.location.href = 'GameOver.html';
                    }
                }
            });

    </script>
</html>